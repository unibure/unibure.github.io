<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>text scroll animation</title>
  <style>
    html,body{background-color: #000; width: 100%; height: 3000px; overflow-x:hidden;}
    .cover {width: 100vw; margin-bottom: 10rem; display: flex;}
    .cover:nth-child(1){margin-top: 5vh; transform: rotate(-2deg); background-color: #ff3796; } 
    .cover:nth-child(2){transform: rotate(2deg); background-color: #5805ff; justify-content: flex-end;} 
    .cover:nth-child(3){transform: rotate(-2deg); background-color: #00c6ab; justify-content: flex-end;} 
    p {justify-content: flex-end;display: flex;padding: 3rem 0; font-size: 2rem;} 
  </style>
</head>
<body>
  
  <div class="cover">
    <p class="first-parallel"></p>
  </div>
  <div class="cover">
    <p class="second-parallel"></p>
  </div>
  <div class="cover">
    <p class="second-parallel"></p>
  </div>
  <div class="cover">
    <p class="second-parallel"></p>
  </div>

  <script>
    const pTag1 = document.querySelector('.first-parallel');
    const pTag2 = document.querySelector('.second-parallel');

    const textArr1 = 'frontend developer unibure portfolio frontend developer unibure portfolio frontend developer unibure portfolio'.split(' ');
    const textArr2 = '프론트엔드 개발자 이부레의 포트폴리오 프론트엔드 개발자 이부레의 포트폴리오'.split(' ');

    function initTexts( element , textArray ){

      textArray.push(...textArray)
      for (let i = 0; i < textArray.length ; i++){
        element.innerText += `${textArray[i]}`
      } 
    }

    initTexts(pTag1 , textArr1)
    initTexts(pTag2 , textArr2)

    let count1 = 0
    let count2 = 0

    function marqueeText(count , element , direction){
      if (count > element.scrollWidth / 2 ){
        element.style.transform = `translateX(0)`
        count = 0
      }
      element.style.transform = `translateX(${count * direction}px)`
      return count
    }

    function animate(){
      count1 ++
      count2 ++

      count1 = marqueeText(count1 , pTag1 , -3)
      count2 = marqueeText(count2 , pTag2 , 1)

      window.requestAnimationFrame(animate)
    }
    animate()

    window.addEventListener('scroll',() => {
      count1 += 15
      count2 += 15
    })
  </script>
</body>
</html>